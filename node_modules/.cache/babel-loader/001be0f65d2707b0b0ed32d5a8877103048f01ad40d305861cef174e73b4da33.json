{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import'bootstrap/dist/css/bootstrap.min.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const SignupForm=()=>{const[email,setEmail]=useState('');const[password1,setPassword1]=useState('');const[password2,setPassword2]=useState('');const[firstName,setFirstName]=useState('');const[lastName,setLastName]=useState('');const[phoneNumber,setPhoneNumber]=useState('');const[zipcode,setZipcode]=useState('');const[state,setState]=useState('');const[userCount,setUserCount]=useState(0);const[errors,setErrors]=useState({});useEffect(()=>{axios.get('/api/user-count/').then(response=>{setUserCount(response.data.user_count);}).catch(error=>{console.error(\"Could not fetch user count\",error);});},[]);const handleSubmit=e=>{e.preventDefault();axios.post('/dj-rest-auth/registration/',{email,password1,password2,first_name:firstName,last_name:lastName,phone_number:phoneNumber,zipcode,state}).then(response=>{console.log(\"Signup successful\",response.data);setUserCount(prevCount=>prevCount+1);setErrors({});// Clear any previous errors\n}).catch(error=>{console.error(\"Signup error\",error.response.data);setErrors(error.response.data);// Set errors from backend\n});};return/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card p-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4\",children:\"Sign Up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",className:\"form-control\",value:email,onChange:e=>setEmail(e.target.value),placeholder:\"Email\",required:true}),errors.email&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.email})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:password1,onChange:e=>setPassword1(e.target.value),placeholder:\"Password\",required:true}),errors.password1&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.password1})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",value:password2,onChange:e=>setPassword2(e.target.value),placeholder:\"Confirm Password\",required:true}),errors.password2&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.password2})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:firstName,onChange:e=>setFirstName(e.target.value),placeholder:\"First Name\",required:true}),errors.first_name&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.first_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:lastName,onChange:e=>setLastName(e.target.value),placeholder:\"Last Name\",required:true}),errors.last_name&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.last_name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:phoneNumber,onChange:e=>setPhoneNumber(e.target.value),placeholder:\"Phone Number\",required:true}),errors.phone_number&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.phone_number})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:zipcode,onChange:e=>setZipcode(e.target.value),placeholder:\"Zipcode\",required:true}),errors.zipcode&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.zipcode})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:state,onChange:e=>setState(e.target.value),placeholder:\"State\",required:true}),errors.state&&/*#__PURE__*/_jsx(\"div\",{className:\"text-danger\",children:errors.state})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",children:\"Sign Up\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"mt-4\",children:[\"Total Registered Users: \",userCount]})]})});};export default SignupForm;","map":{"version":3,"names":["React","useState","useEffect","axios","jsx","_jsx","jsxs","_jsxs","SignupForm","email","setEmail","password1","setPassword1","password2","setPassword2","firstName","setFirstName","lastName","setLastName","phoneNumber","setPhoneNumber","zipcode","setZipcode","state","setState","userCount","setUserCount","errors","setErrors","get","then","response","data","user_count","catch","error","console","handleSubmit","e","preventDefault","post","first_name","last_name","phone_number","log","prevCount","className","children","onSubmit","type","value","onChange","target","placeholder","required"],"sources":["C:/Django/myenv/3333/frontend/src/SignupForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport 'bootstrap/dist/css/bootstrap.min.css';\r\n\r\nconst SignupForm = () => {\r\n    const [email, setEmail] = useState('');\r\n    const [password1, setPassword1] = useState('');\r\n    const [password2, setPassword2] = useState('');\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n    const [phoneNumber, setPhoneNumber] = useState('');\r\n    const [zipcode, setZipcode] = useState('');\r\n    const [state, setState] = useState('');\r\n    const [userCount, setUserCount] = useState(0);\r\n    const [errors, setErrors] = useState({});\r\n\r\n    useEffect(() => {\r\n        axios.get('/api/user-count/')\r\n            .then(response => {\r\n                setUserCount(response.data.user_count);\r\n            })\r\n            .catch(error => {\r\n                console.error(\"Could not fetch user count\", error);\r\n            });\r\n    }, []);\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        axios.post('/dj-rest-auth/registration/', {\r\n            email,\r\n            password1,\r\n            password2,\r\n            first_name: firstName,\r\n            last_name: lastName,\r\n            phone_number: phoneNumber,\r\n            zipcode,\r\n            state\r\n        })\r\n        .then(response => {\r\n            console.log(\"Signup successful\", response.data);\r\n            setUserCount(prevCount => prevCount + 1);\r\n            setErrors({}); // Clear any previous errors\r\n        })\r\n        .catch(error => {\r\n            console.error(\"Signup error\", error.response.data);\r\n            setErrors(error.response.data); // Set errors from backend\r\n        });\r\n    };\r\n\r\n    return (\r\n        <div className=\"container mt-5\">\r\n            <div className=\"card p-4\">\r\n                <h2 className=\"mb-4\">Sign Up</h2>\r\n                <form onSubmit={handleSubmit}>\r\n                    {/* Each form group with added error display */}\r\n                    <div className=\"form-group\">\r\n                        <input type=\"email\" className=\"form-control\" value={email} onChange={(e) => setEmail(e.target.value)} placeholder=\"Email\" required />\r\n                        {errors.email && <div className=\"text-danger\">{errors.email}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"password\" className=\"form-control\" value={password1} onChange={(e) => setPassword1(e.target.value)} placeholder=\"Password\" required />\r\n                        {errors.password1 && <div className=\"text-danger\">{errors.password1}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"password\" className=\"form-control\" value={password2} onChange={(e) => setPassword2(e.target.value)} placeholder=\"Confirm Password\" required />\r\n                        {errors.password2 && <div className=\"text-danger\">{errors.password2}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={firstName} onChange={(e) => setFirstName(e.target.value)} placeholder=\"First Name\" required />\r\n                        {errors.first_name && <div className=\"text-danger\">{errors.first_name}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={lastName} onChange={(e) => setLastName(e.target.value)} placeholder=\"Last Name\" required />\r\n                        {errors.last_name && <div className=\"text-danger\">{errors.last_name}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={phoneNumber} onChange={(e) => setPhoneNumber(e.target.value)} placeholder=\"Phone Number\" required />\r\n                        {errors.phone_number && <div className=\"text-danger\">{errors.phone_number}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={zipcode} onChange={(e) => setZipcode(e.target.value)} placeholder=\"Zipcode\" required />\r\n                        {errors.zipcode && <div className=\"text-danger\">{errors.zipcode}</div>}\r\n                    </div>\r\n                    <div className=\"form-group\">\r\n                        <input type=\"text\" className=\"form-control\" value={state} onChange={(e) => setState(e.target.value)} placeholder=\"State\" required />\r\n                        {errors.state && <div className=\"text-danger\">{errors.state}</div>}\r\n                    </div>\r\n                    <button type=\"submit\" className=\"btn btn-primary\">Sign Up</button>\r\n                </form>\r\n                <p className=\"mt-4\">Total Registered Users: {userCount}</p>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default SignupForm;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}